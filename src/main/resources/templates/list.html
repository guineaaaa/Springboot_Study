<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/main.css" rel="stylesheet">
</head>
<body>
<div th:replace="~{nav.html::navbar}"></div>
<span sec:authentication="principal.username"></span>
<div sec:authorize="isAuthenticated()">
    <a href="/logout">ë¡œê·¸ì•„ì›ƒ</a>
</div>

<!--th:eachë¡œ html ë°˜ë³µ ìƒì„± ê°€ëŠ¥, iì•ˆì˜ ìë£Œ ê°¯ìˆ˜ë§Œí¼ ë°˜ë³µ ìƒì„±ë¨-->
<!--itemì•ˆì— ìˆëŠ”ê±¸ í•˜ë‚˜ì”© ê¹Œì£¼ëŠ”ê²ƒ-->
<div class="card" th:each="i:${items}">
    <img src="https://placehold.co/300">
    <div>
        <h4 th:text="${i.title}">ë°”ì§€</h4>
        <a th:text="'ì‘ì„±ì: '+(${i.member!=null? i.member.username:'âŒ'})">ì‘ì„±ì</a>
        <br/>

        <a th:href="@{'/detail/'+${i.id}}">ğŸ“ details</a>
        <br/>
        <a th:href="@{'/edit/'+${i.id}}">âœï¸ edit</a>
        <span th:onclick="fetch('/item?id=[[${i.id}]]',
        { method:'DELETE' })
          .then(r => r.text())
          .then(() => {
          location.reload();
        })">ğŸ—‘ï¸</span>
    </div>
</div>

</body>
</html>