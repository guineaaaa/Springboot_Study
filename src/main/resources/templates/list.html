<!DOCTYPE html>
<html lang="en" xmlns:margin="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/main.css" rel="stylesheet">
</head>
<body>
<div th:replace="~{nav.html::navbar}"></div>

<div>
    <span>í˜„ì¬ ë¡œê·¸ì¸: <span sec:authentication="principal.username"></span></span>
</div>

<!--th:eachë¡œ html ë°˜ë³µ ìƒì„± ê°€ëŠ¥, iì•ˆì˜ ìë£Œ ê°¯ìˆ˜ë§Œí¼ ë°˜ë³µ ìƒì„±ë¨-->
<!--itemì•ˆì— ìˆëŠ”ê±¸ í•˜ë‚˜ì”© ê¹Œì£¼ëŠ”ê²ƒ-->
<div class="card" th:each="i:${items}">
    <img src="https://placehold.co/300">
    <div>
        <h4 th:text="${i.title}">ë°”ì§€</h4>
        <a th:text="'ì‘ì„±ì: '+(${i.member!=null? i.member.username:'âŒ'})">ì‘ì„±ì</a>
        <br/>

        <a th:href="@{'/detail/'+${i.id}}">ğŸ“ details</a>
        <br/>
        <a th:href="@{'/edit/'+${i.id}}">âœï¸ edit</a>
        <span th:onclick="fetch('/item?id=[[${i.id}]]',
        { method:'DELETE' })
          .then(r => r.text())
          .then(() => {
          location.reload();
        })">ğŸ—‘ï¸</span>

    </div>
</div>

<div>
    <div>
    <span th:each="i : ${#numbers.sequence(1, totalPages)}">
        <a th:href="@{'/list/page/' + ${i}}" th:text="${i}" th:classappend="${i == currentPage ? ' active' : ''}"></a>
        <span> </span>
    </span>
</div>

</div>

</body>
</html>